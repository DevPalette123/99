<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¹Ø¨Ø§Ù‚Ø±Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ğŸ§ </title>

<link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet">
<script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.8.11/dist/dotlottie-wc.js" type="module"></script>

<style>
body {
  font-family: 'Cairo', sans-serif;
  background: linear-gradient(135deg, #D6EAF8, #D7BDE2);
  margin: 0;
  padding: 0;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ø³Ù… */
.center-screen {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  height: 100vh;
  width: 100%;
}

h1 {
  color: #2C3E50;
  text-align: center;
  margin-bottom: 20px;
  text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
}

.login-box {
  background: rgba(255,255,255,0.95);
  padding: 25px 20px;
  border-radius: 20px;
  box-shadow: 0px 10px 30px rgba(0,0,0,0.15);
  width: 80%;
  max-width: 300px;
  text-align: center;
}

input[type="text"] {
  width: 85%;
  padding: 12px;
  margin-bottom: 20px;
  border-radius: 12px;
  border: 1px solid #BDC3C7;
  font-size: 16px;
  text-align: center;
}

button {
  padding: 12px 25px;
  border: none;
  border-radius: 12px;
  background: #3498DB;
  color: white;
  font-size: 18px;
  cursor: pointer;
  transition: 0.3s;
}

button:hover {
  background: #2E86C1;
}

/* ØµÙØ­Ø© Ø§Ù„Ø¯Ø±ÙˆØ³ */
#lessonsTitle {
  margin-top: 20px;
  font-size: 2em;
  color: #2C3E50;
  text-align: center;
}

.lessons-container, .files-container {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
  gap: 20px;
  width: 90%;
  max-width: 1000px;
  margin-top: 20px;
}

.lesson-btn, .file-link {
  padding: 20px;
  border-radius: 20px;
  font-size: 18px;
  font-weight: bold;
  text-align: center;
  cursor: pointer;
  transition: 0.3s;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: #2C3E50;
  box-shadow: 0px 8px 25px rgba(0,0,0,0.15);
  text-decoration: none;
}

.lesson-btn:hover, .file-link:hover {
  transform: translateY(-5px) scale(1.03);
  box-shadow: 0px 12px 30px rgba(0,0,0,0.25);
}

.emoji {
  font-size: 45px;
  margin-bottom: 12px;
}

.back-btn {
  margin-top: 30px;
  padding: 15px 30px;
  border-radius: 20px;
  background: #3498DB;
  color: white;
  font-weight: bold;
  text-decoration: none;
  font-size: 18px;
  transition: 0.3s;
  cursor: pointer;
}

.back-btn:hover {
  background: #2E86C1;
}

@media(max-width:500px){
  .lesson-btn, .file-link {
    font-size: 16px;
    padding: 15px;
  }
  .emoji {
    font-size: 35px;
  }
  .back-btn {
    font-size: 16px;
    padding: 12px 25px;
  }
}
</style>
</head>
<body>

<!-- ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ø³Ù… -->
<div class="center-screen" id="loginBoxContainer">
  <h1>Ø¹Ø¨Ø§Ù‚Ø±Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ğŸ§ </h1>
  <div class="login-box">
    <input type="text" id="studentName" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§">
    <br>
    <button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
  </div>

  <dotlottie-wc 
    src="https://lottie.host/98369d56-58f0-4dff-831c-f968035adac9/hnz2GNcR0J.lottie"
    style="width: 250px; height: 250px; margin-top: 20px;"
    autoplay loop>
  </dotlottie-wc>
</div>

<!-- ØµÙØ­Ø© Ø§Ù„Ø¯Ø±ÙˆØ³ -->
<h1 id="lessonsTitle" style="display:none;">Ø§Ø®ØªØ± Ø§Ù„Ø¯Ø±Ø³ ğŸ“š</h1>
<div class="lessons-container" id="lessonsContainer" style="display:none;"></div>

<!-- ØµÙØ­Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ù„ÙƒÙ„ Ø¯Ø±Ø³ -->
<h1 id="filesTitle" style="display:none;"></h1>
<div class="files-container" id="filesContainer" style="display:none;"></div>
<button class="back-btn" id="backBtn" style="display:none;" onclick="showLessons()">Ø±Ø¬ÙˆØ¹ Ù„ØµÙØ­Ø© Ø§Ù„Ø¯Ø±ÙˆØ³ ğŸ“š</button>

<script>
// Ø±Ø§Ø¨Ø· Google Apps Script
const googleSheetURL = "https://script.google.com/macros/s/AKfycbwrT75VQdIUKIUsXJLUcMiz-Che6cMbE30OEW6ycySrphqTG0H1IF5oE97n45VRArymgA/exec";

// Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯Ø±ÙˆØ³ Ù…Ø¹ Ø§Ù„Ù…Ù„ÙØ§Øª
const lessons = [
  { 
    name:"Ø§Ù„Ø¬Ù…Ø¹ â•", 
    files:[
      {name:"Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø¬Ù…Ø¹ ", url:"jam3/anshita.pdf"},
      {name:"Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¬Ù…Ø¹ ", url:"https://wordwall.net/ar/resource/6447170/%D8%A7%D9%84%D8%AC%D9%85%D8%B9-%D8%A7%D9%84%D8%B1%D8%A3%D8%B3%D9%8A"},
      {name:"Ø´Ø±Ø­ Ø§Ù„Ø¬Ù…Ø¹ (ÙÙŠØ¯ÙŠÙˆ)", url:"jam3/sharh.mp4"}
    ], 
    color:"#AED6F1" 
  },
  { name:"Ø§Ù„Ø·Ø±Ø­ â–", files:[{name:"Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø·Ø±Ø­ (PDF)", url:"tarh/anshita.pdf"},{name:"Ù„Ø¹Ø¨Ø© Ø§Ù„Ø·Ø±Ø­ (PDF)", url:"tarh/game.pdf"},{name:"Ø´Ø±Ø­ Ø§Ù„Ø·Ø±Ø­ (ÙÙŠØ¯ÙŠÙˆ)", url:"tarh/sharh.mp4"}], color:"#F9E79F" },
  { name:"Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„ØªØµØ§Ø¹Ø¯ÙŠ â¬†ï¸", files:[{name:"ØªÙ…Ø±ÙŠÙ† ØªØ±ØªÙŠØ¨ ØªØµØ§Ø¹Ø¯ÙŠ (PDF)", url:"tartib_asc/1.pdf"},{name:"Ø´Ø±Ø­ Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„ØªØµØ§Ø¹Ø¯ÙŠ (ÙÙŠØ¯ÙŠÙˆ)", url:"tartib_asc/2.mp4"}], color:"#A9DFBF" },
  { name:"Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ â¬‡ï¸", files:[{name:"ØªÙ…Ø±ÙŠÙ† ØªØ±ØªÙŠØ¨ ØªÙ†Ø§Ø²Ù„ÙŠ (PDF)", url:"tartib_desc/1.pdf"},{name:"Ø´Ø±Ø­ Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ (ÙÙŠØ¯ÙŠÙˆ)", url:"tartib_desc/2.mp4"}], color:"#F5B7B1" },
  { name:"Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø§Ø¹Ø¯Ø§Ø¯ ğŸ”¢", files:[{name:"ØªÙ…Ø±ÙŠÙ† Ù…Ù‚Ø§Ø±Ù†Ø© Ø£Ø¹Ø¯Ø§Ø¯ (PDF)", url:"moqarnah/1.pdf"},{name:"Ø´Ø±Ø­ Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ (ÙÙŠØ¯ÙŠÙˆ)", url:"moqarnah/2.mp4"}], color:"#D2B4DE" },
  { name:"Ø§Ù„Ø§Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²ÙˆØ¬ÙŠØ© ÙˆØ§Ù„ÙØ±Ø¯ÙŠØ© ğŸŸ¢ğŸ”´", files:[{name:"ØªÙ…Ø±ÙŠÙ† Ø£Ø¹Ø¯Ø§Ø¯ Ø²ÙˆØ¬ÙŠØ© ÙˆÙØ±Ø¯ÙŠØ© (PDF)", url:"zawj_fardi/1.pdf"},{name:"Ø´Ø±Ø­ Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²ÙˆØ¬ÙŠØ© ÙˆØ§Ù„ÙØ±Ø¯ÙŠØ© (ÙÙŠØ¯ÙŠÙˆ)", url:"zawj_fardi/2.mp4"}], color:"#FAD7A0" },
  { name:"Ø§Ù„Ø¶Ø¹Ù âœ–ï¸", files:[{name:"ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø¶Ø¹Ù (PDF)", url:"dof/1.pdf"},{name:"Ø´Ø±Ø­ Ø§Ù„Ø¶Ø¹Ù (ÙÙŠØ¯ÙŠÙˆ)", url:"dof/2.mp4"}], color:"#85C1E9" },
  { name:"Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ ğŸ¯", files:[{name:"ØªÙ…Ø±ÙŠÙ† Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ (PDF)", url:"taqrib/1.pdf"},{name:"Ø´Ø±Ø­ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ (ÙÙŠØ¯ÙŠÙˆ)", url:"taqrib/2.mp4"}], color:"#F8C471" },
  { name:"Ø§Ø²ÙˆØ§Ø¬ Ø§Ù„Ø¹Ø¯Ø¯ Ù¡Ù  ğŸ”Ÿ", files:[{name:"ØªÙ…Ø±ÙŠÙ† Ø§Ø²ÙˆØ§Ø¬ Ø§Ù„Ø¹Ø¯Ø¯ 10 (PDF)", url:"azwaj10/1.pdf"},{name:"Ø´Ø±Ø­ Ø§Ø²ÙˆØ§Ø¬ Ø§Ù„Ø¹Ø¯Ø¯ 10 (ÙÙŠØ¯ÙŠÙˆ)", url:"azwaj10/2.mp4"}], color:"#D7BDE2" },
  { name:"Ø§Ø²ÙˆØ§Ø¬ Ø§Ù„Ø¹Ø¯Ø¯ Ù¡Ù Ù  ğŸ’¯", files:[{name:"ØªÙ…Ø±ÙŠÙ† Ø§Ø²ÙˆØ§Ø¬ Ø§Ù„Ø¹Ø¯Ø¯ 100 (PDF)", url:"azwaj100/1.pdf"},{name:"Ø´Ø±Ø­ Ø§Ø²ÙˆØ§Ø¬ Ø§Ù„Ø¹Ø¯Ø¯ 100 (ÙÙŠØ¯ÙŠÙˆ)", url:"azwaj100/2.mp4"}], color:"#82E0AA" },
  { name:"Ù…Ø«Ù„Ø« Ø§Ù„Ø­Ù‚Ø§Ø¦Ù‚ Ù„Ù„Ø¹Ø¯Ø¯ Ù¡Ù  ğŸ”º", files:[{name:"Ù…Ø«Ù„Ø« Ø§Ù„Ø­Ù‚Ø§Ø¦Ù‚ Ù„Ù„Ø¹Ø¯Ø¯ 10 (PDF)", url:"mosallas10/1.pdf"},{name:"Ø´Ø±Ø­ Ù…Ø«Ù„Ø« Ø§Ù„Ø­Ù‚Ø§Ø¦Ù‚ Ù„Ù„Ø¹Ø¯Ø¯ 10 (ÙÙŠØ¯ÙŠÙˆ)", url:"mosallas10/2.mp4"}], color:"#F1948A" }
];

// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
function login() {
  const student = document.getElementById("studentName").value.trim();
  if(!student){ 
    alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© Ø§Ø³Ù…Ùƒ Ø£ÙˆÙ„Ù‹Ø§!"); 
    return; 
  }
  document.getElementById("loginBoxContainer").style.display = "none";
  showLessons();
}

// Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ù„Ø¯Ø±ÙˆØ³
function showLessons(){
  document.getElementById("lessonsTitle").style.display = "block";
  document.getElementById("lessonsContainer").style.display = "grid";

  document.getElementById("filesTitle").style.display = "none";
  document.getElementById("filesContainer").style.display = "none";
  document.getElementById("backBtn").style.display = "none";

  const container = document.getElementById("lessonsContainer");
  container.innerHTML = "";

  lessons.forEach(lesson=>{
    const btn = document.createElement("div");
    btn.className = "lesson-btn";
    btn.style.background = lesson.color;
    btn.innerHTML = `<div class="emoji">${lesson.name.split(" ").pop()}</div>
                     <div>${lesson.name.split(" ").slice(0,-1).join(" ")}</div>`;
    btn.onclick = ()=>showFiles(lesson);
    container.appendChild(btn);
  });
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø¯Ø±Ø³ + ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙÙŠ Google Sheet
function showFiles(lesson){
  const student = document.getElementById("studentName").value.trim();
  if(student){
    fetch(`${googleSheetURL}?student=${encodeURIComponent(student)}&lesson=${encodeURIComponent(lesson.name)}`)
      .then(res => res.text())
      .then(resText => console.log(resText))
      .catch(err => console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„:", err));
  }

  document.getElementById("lessonsTitle").style.display = "none";
  document.getElementById("lessonsContainer").style.display = "none";

  document.getElementById("filesTitle").style.display = "block";
  document.getElementById("filesTitle").innerText = lesson.name;
  document.getElementById("filesContainer").style.display = "grid";
  document.getElementById("backBtn").style.display = "inline-block";

  const container = document.getElementById("filesContainer");
  container.innerHTML = "";

  lesson.files.forEach(file=>{
    const link = document.createElement("a");
    link.className = "file-link";
    link.href = file.url;
    link.target = "_blank";
    link.innerText = file.name;
    container.appendChild(link);
  });
}
</script>

</body>
</html>
